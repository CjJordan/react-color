"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {
  rgbaToHsva: true,
  hsvaToHslString: true,
  hsvaToHsvString: true,
  hsvaToHsvaString: true,
  hsvaToHslaString: true,
  hslaStringToHsva: true,
  hslStringToHsva: true,
  hslaToHsva: true,
  hsvaToHsla: true,
  hsvaStringToHsva: true,
  parseHue: true,
  hsvStringToHsva: true,
  rgbaStringToHsva: true,
  rgbStringToHsva: true,
  rgbaToHex: true,
  hexToHsva: true,
  hexToRgba: true,
  round: true,
  roundHsva: true,
  hsvaToRgba: true,
  hsvaToRgbString: true,
  hsvaToRgbaString: true,
  rgbaToRgb: true,
  hslaToHsl: true,
  hsvaToHex: true,
  hsvaToHsv: true
};
exports.hsvaToHsv = exports.hsvaToHex = exports.hslaToHsl = exports.rgbaToRgb = exports.hsvaToRgbaString = exports.hsvaToRgbString = exports.hsvaToRgba = exports.roundHsva = exports.round = exports.hexToRgba = exports.hexToHsva = exports.rgbaToHex = exports.rgbStringToHsva = exports.rgbaStringToHsva = exports.hsvStringToHsva = exports.parseHue = exports.hsvaStringToHsva = exports.hsvaToHsla = exports.hslaToHsva = exports.hslStringToHsva = exports.hslaStringToHsva = exports.hsvaToHslaString = exports.hsvaToHsvaString = exports.hsvaToHsvString = exports.hsvaToHslString = exports.rgbaToHsva = void 0;

var _utils = require("./utils");

Object.keys(_utils).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _utils[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _utils[key];
    }
  });
});

/**
 * ```js
 * rgbaToHsva({ r: 255, g: 255, b: 255, a: 1 }) //=> { h: 0, s: 0, v: 100, a: 1 }
 * ```
 */
var rgbaToHsva = function rgbaToHsva(_ref) {
  var r = _ref.r,
      g = _ref.g,
      b = _ref.b,
      a = _ref.a;
  var max = Math.max(r, g, b);
  var delta = max - Math.min(r, g, b); // prettier-ignore

  var hh = delta ? max === r ? (g - b) / delta : max === g ? 2 + (b - r) / delta : 4 + (r - g) / delta : 0;
  return {
    h: round(60 * (hh < 0 ? hh + 6 : hh)),
    s: round(max ? delta / max * 100 : 0),
    v: round(max / 255 * 100),
    a: a
  };
};

exports.rgbaToHsva = rgbaToHsva;

var hsvaToHslString = function hsvaToHslString(hsva) {
  var _hsvaToHsla = hsvaToHsla(hsva),
      h = _hsvaToHsla.h,
      s = _hsvaToHsla.s,
      l = _hsvaToHsla.l;

  return "hsl(".concat(h, ", ").concat(s, "%, ").concat(l, "%)");
};

exports.hsvaToHslString = hsvaToHslString;

var hsvaToHsvString = function hsvaToHsvString(hsva) {
  var _roundHsva = roundHsva(hsva),
      h = _roundHsva.h,
      s = _roundHsva.s,
      v = _roundHsva.v;

  return "hsv(".concat(h, ", ").concat(s, "%, ").concat(v, "%)");
};

exports.hsvaToHsvString = hsvaToHsvString;

var hsvaToHsvaString = function hsvaToHsvaString(hsva) {
  var _roundHsva2 = roundHsva(hsva),
      h = _roundHsva2.h,
      s = _roundHsva2.s,
      v = _roundHsva2.v,
      a = _roundHsva2.a;

  return "hsva(".concat(h, ", ").concat(s, "%, ").concat(v, "%, ").concat(a, ")");
};

exports.hsvaToHsvaString = hsvaToHsvaString;

var hsvaToHslaString = function hsvaToHslaString(hsva) {
  var _hsvaToHsla2 = hsvaToHsla(hsva),
      h = _hsvaToHsla2.h,
      s = _hsvaToHsla2.s,
      l = _hsvaToHsla2.l,
      a = _hsvaToHsla2.a;

  return "hsla(".concat(h, ", ").concat(s, "%, ").concat(l, "%, ").concat(a, ")");
};

exports.hsvaToHslaString = hsvaToHslaString;

var hslaStringToHsva = function hslaStringToHsva(hslString) {
  var matcher = /hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;
  var match = matcher.exec(hslString);
  if (!match) return {
    h: 0,
    s: 0,
    v: 0,
    a: 1
  };
  return hslaToHsva({
    h: parseHue(match[1], match[2]),
    s: Number(match[3]),
    l: Number(match[4]),
    a: match[5] === undefined ? 1 : Number(match[5]) / (match[6] ? 100 : 1)
  });
};

exports.hslaStringToHsva = hslaStringToHsva;
var hslStringToHsva = hslaStringToHsva;
exports.hslStringToHsva = hslStringToHsva;

var hslaToHsva = function hslaToHsva(_ref2) {
  var h = _ref2.h,
      s = _ref2.s,
      l = _ref2.l,
      a = _ref2.a;
  s *= (l < 50 ? l : 100 - l) / 100;
  return {
    h: h,
    s: s > 0 ? 2 * s / (l + s) * 100 : 0,
    v: l + s,
    a: a
  };
};

exports.hslaToHsva = hslaToHsva;

var hsvaToHsla = function hsvaToHsla(_ref3) {
  var h = _ref3.h,
      s = _ref3.s,
      v = _ref3.v,
      a = _ref3.a;
  var hh = (200 - s) * v / 100;
  return {
    h: round(h),
    s: round(hh > 0 && hh < 200 ? s * v / 100 / (hh <= 100 ? hh : 200 - hh) * 100 : 0),
    l: round(hh / 2),
    a: round(a, 2)
  };
};

exports.hsvaToHsla = hsvaToHsla;

var hsvaStringToHsva = function hsvaStringToHsva(hsvString) {
  var matcher = /hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;
  var match = matcher.exec(hsvString);
  if (!match) return {
    h: 0,
    s: 0,
    v: 0,
    a: 1
  };
  return roundHsva({
    h: parseHue(match[1], match[2]),
    s: Number(match[3]),
    v: Number(match[4]),
    a: match[5] === undefined ? 1 : Number(match[5]) / (match[6] ? 100 : 1)
  });
};
/**
 * Valid CSS <angle> units.
 * https://developer.mozilla.org/en-US/docs/Web/CSS/angle
 */


exports.hsvaStringToHsva = hsvaStringToHsva;
var angleUnits = {
  grad: 360 / 400,
  turn: 360,
  rad: 360 / (Math.PI * 2)
};

var parseHue = function parseHue(value) {
  var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'deg';
  return Number(value) * (angleUnits[unit] || 1);
};

exports.parseHue = parseHue;
var hsvStringToHsva = hsvaStringToHsva;
exports.hsvStringToHsva = hsvStringToHsva;

var rgbaStringToHsva = function rgbaStringToHsva(rgbaString) {
  var matcher = /rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;
  var match = matcher.exec(rgbaString);
  if (!match) return {
    h: 0,
    s: 0,
    v: 0,
    a: 1
  };
  return rgbaToHsva({
    r: Number(match[1]) / (match[2] ? 100 / 255 : 1),
    g: Number(match[3]) / (match[4] ? 100 / 255 : 1),
    b: Number(match[5]) / (match[6] ? 100 / 255 : 1),
    a: match[7] === undefined ? 1 : Number(match[7]) / (match[8] ? 100 : 1)
  });
};

exports.rgbaStringToHsva = rgbaStringToHsva;
var rgbStringToHsva = rgbaStringToHsva;
exports.rgbStringToHsva = rgbStringToHsva;

var format = function format(number) {
  var hex = number.toString(16);
  return hex.length < 2 ? '0' + hex : hex;
};

var rgbaToHex = function rgbaToHex(_ref4) {
  var r = _ref4.r,
      g = _ref4.g,
      b = _ref4.b;
  return '#' + format(r) + format(g) + format(b);
};

exports.rgbaToHex = rgbaToHex;

var hexToHsva = function hexToHsva(hex) {
  return rgbaToHsva(hexToRgba(hex));
};

exports.hexToHsva = hexToHsva;

var hexToRgba = function hexToRgba(hex) {
  if (hex[0] === '#') hex = hex.substr(1);

  if (hex.length < 6) {
    return {
      r: parseInt(hex[0] + hex[0], 16),
      g: parseInt(hex[1] + hex[1], 16),
      b: parseInt(hex[2] + hex[2], 16),
      a: 1
    };
  }

  return {
    r: parseInt(hex.substr(0, 2), 16),
    g: parseInt(hex.substr(2, 2), 16),
    b: parseInt(hex.substr(4, 2), 16),
    a: 1
  };
};

exports.hexToRgba = hexToRgba;

var round = function round(number) {
  var digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Math.pow(10, digits);
  return Math.round(base * number) / base;
};

exports.round = round;

var roundHsva = function roundHsva(hsva) {
  return {
    h: round(hsva.h),
    s: round(hsva.s),
    v: round(hsva.v),
    a: round(hsva.a, 2)
  };
};

exports.roundHsva = roundHsva;

var hsvaToRgba = function hsvaToRgba(_ref5) {
  var h = _ref5.h,
      s = _ref5.s,
      v = _ref5.v,
      a = _ref5.a;
  h = h / 360 * 6;
  s = s / 100;
  v = v / 100;
  var hh = Math.floor(h),
      b = v * (1 - s),
      c = v * (1 - (h - hh) * s),
      d = v * (1 - (1 - h + hh) * s),
      module = hh % 6;
  return {
    r: round([v, c, b, b, d, v][module] * 255),
    g: round([d, v, v, c, b, b][module] * 255),
    b: round([b, b, d, v, v, c][module] * 255),
    a: round(a, 2)
  };
};

exports.hsvaToRgba = hsvaToRgba;

var hsvaToRgbString = function hsvaToRgbString(hsva) {
  var _hsvaToRgba = hsvaToRgba(hsva),
      r = _hsvaToRgba.r,
      g = _hsvaToRgba.g,
      b = _hsvaToRgba.b;

  return "rgb(".concat(r, ", ").concat(g, ", ").concat(b, ")");
};

exports.hsvaToRgbString = hsvaToRgbString;

var hsvaToRgbaString = function hsvaToRgbaString(hsva) {
  var _hsvaToRgba2 = hsvaToRgba(hsva),
      r = _hsvaToRgba2.r,
      g = _hsvaToRgba2.g,
      b = _hsvaToRgba2.b,
      a = _hsvaToRgba2.a;

  return "rgba(".concat(r, ", ").concat(g, ", ").concat(b, ", ").concat(a, ")");
};

exports.hsvaToRgbaString = hsvaToRgbaString;

var rgbaToRgb = function rgbaToRgb(_ref6) {
  var r = _ref6.r,
      g = _ref6.g,
      b = _ref6.b;
  return {
    r: r,
    g: g,
    b: b
  };
};

exports.rgbaToRgb = rgbaToRgb;

var hslaToHsl = function hslaToHsl(_ref7) {
  var h = _ref7.h,
      s = _ref7.s,
      l = _ref7.l;
  return {
    h: h,
    s: s,
    l: l
  };
};

exports.hslaToHsl = hslaToHsl;

var hsvaToHex = function hsvaToHex(hsva) {
  return rgbaToHex(hsvaToRgba(hsva));
};

exports.hsvaToHex = hsvaToHex;

var hsvaToHsv = function hsvaToHsv(hsva) {
  var _roundHsva3 = roundHsva(hsva),
      h = _roundHsva3.h,
      s = _roundHsva3.s,
      v = _roundHsva3.v;

  return {
    h: h,
    s: s,
    v: v
  };
};

exports.hsvaToHsv = hsvaToHsv;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJyZ2JhVG9Ic3ZhIiwiciIsImciLCJiIiwiYSIsIm1heCIsIk1hdGgiLCJkZWx0YSIsIm1pbiIsImhoIiwiaCIsInJvdW5kIiwicyIsInYiLCJoc3ZhVG9Ic2xTdHJpbmciLCJoc3ZhIiwiaHN2YVRvSHNsYSIsImwiLCJoc3ZhVG9Ic3ZTdHJpbmciLCJyb3VuZEhzdmEiLCJoc3ZhVG9Ic3ZhU3RyaW5nIiwiaHN2YVRvSHNsYVN0cmluZyIsImhzbGFTdHJpbmdUb0hzdmEiLCJoc2xTdHJpbmciLCJtYXRjaGVyIiwibWF0Y2giLCJleGVjIiwiaHNsYVRvSHN2YSIsInBhcnNlSHVlIiwiTnVtYmVyIiwidW5kZWZpbmVkIiwiaHNsU3RyaW5nVG9Ic3ZhIiwiaHN2YVN0cmluZ1RvSHN2YSIsImhzdlN0cmluZyIsImFuZ2xlVW5pdHMiLCJncmFkIiwidHVybiIsInJhZCIsIlBJIiwidmFsdWUiLCJ1bml0IiwiaHN2U3RyaW5nVG9Ic3ZhIiwicmdiYVN0cmluZ1RvSHN2YSIsInJnYmFTdHJpbmciLCJyZ2JTdHJpbmdUb0hzdmEiLCJmb3JtYXQiLCJudW1iZXIiLCJoZXgiLCJ0b1N0cmluZyIsImxlbmd0aCIsInJnYmFUb0hleCIsImhleFRvSHN2YSIsImhleFRvUmdiYSIsInN1YnN0ciIsInBhcnNlSW50IiwiZGlnaXRzIiwiYmFzZSIsInBvdyIsImhzdmFUb1JnYmEiLCJmbG9vciIsImMiLCJkIiwibW9kdWxlIiwiaHN2YVRvUmdiU3RyaW5nIiwiaHN2YVRvUmdiYVN0cmluZyIsInJnYmFUb1JnYiIsImhzbGFUb0hzbCIsImhzdmFUb0hleCIsImhzdmFUb0hzdiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQTJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LENBQWQsZUFBY0EsQ0FBZDs7QUFDQSxTQUFPO0FBQUVILElBQUFBLENBQUMsRUFBREEsQ0FBRjtBQUFLRSxJQUFBQSxDQUFDLEVBQURBLENBQUw7QUFBUUMsSUFBQUEsQ0FBQyxFQUFEQTtBQUFSLEdBQVA7QUFDRCxDQUhNIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCB0eXBlIE9iamVjdENvbG9yID1cbiAgfCBSZ2JDb2xvclxuICB8IEhzbENvbG9yXG4gIHwgSHN2Q29sb3JcbiAgfCBSZ2JhQ29sb3JcbiAgfCBIc2xhQ29sb3JcbiAgfCBIc3ZhQ29sb3I7XG5leHBvcnQgaW50ZXJmYWNlIEhzdkNvbG9yIHtcbiAgaDogbnVtYmVyO1xuICBzOiBudW1iZXI7XG4gIHY6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIc3ZhQ29sb3IgZXh0ZW5kcyBIc3ZDb2xvciB7XG4gIGE6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZ2JDb2xvciB7XG4gIHI6IG51bWJlcjtcbiAgZzogbnVtYmVyO1xuICBiOiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJnYmFDb2xvciBleHRlbmRzIFJnYkNvbG9yIHtcbiAgYTogbnVtYmVyO1xufVxuLyoqXG4gKiBgYGBqc1xuICogcmdiYVRvSHN2YSh7IHI6IDI1NSwgZzogMjU1LCBiOiAyNTUsIGE6IDEgfSkgLy89PiB7IGg6IDAsIHM6IDAsIHY6IDEwMCwgYTogMSB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IHJnYmFUb0hzdmEgPSAoeyByLCBnLCBiLCBhIH06IFJnYmFDb2xvcik6IEhzdmFDb2xvciA9PiB7XG4gIGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICBjb25zdCBkZWx0YSA9IG1heCAtIE1hdGgubWluKHIsIGcsIGIpO1xuXG4gIC8vIHByZXR0aWVyLWlnbm9yZVxuICBjb25zdCBoaCA9IGRlbHRhXG4gICAgPyBtYXggPT09IHJcbiAgICAgID8gKGcgLSBiKSAvIGRlbHRhXG4gICAgICA6IG1heCA9PT0gZ1xuICAgICAgICA/IDIgKyAoYiAtIHIpIC8gZGVsdGFcbiAgICAgICAgOiA0ICsgKHIgLSBnKSAvIGRlbHRhXG4gICAgOiAwO1xuXG4gIHJldHVybiB7XG4gICAgaDogcm91bmQoNjAgKiAoaGggPCAwID8gaGggKyA2IDogaGgpKSxcbiAgICBzOiByb3VuZChtYXggPyAoZGVsdGEgLyBtYXgpICogMTAwIDogMCksXG4gICAgdjogcm91bmQoKG1heCAvIDI1NSkgKiAxMDApLFxuICAgIGEsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgaHN2YVRvSHNsU3RyaW5nID0gKGhzdmE6IEhzdmFDb2xvcik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHsgaCwgcywgbCB9ID0gaHN2YVRvSHNsYShoc3ZhKTtcbiAgcmV0dXJuIGBoc2woJHtofSwgJHtzfSUsICR7bH0lKWA7XG59O1xuXG5leHBvcnQgY29uc3QgaHN2YVRvSHN2U3RyaW5nID0gKGhzdmE6IEhzdmFDb2xvcik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHsgaCwgcywgdiB9ID0gcm91bmRIc3ZhKGhzdmEpO1xuICByZXR1cm4gYGhzdigke2h9LCAke3N9JSwgJHt2fSUpYDtcbn07XG5cbmV4cG9ydCBjb25zdCBoc3ZhVG9Ic3ZhU3RyaW5nID0gKGhzdmE6IEhzdmFDb2xvcik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHsgaCwgcywgdiwgYSB9ID0gcm91bmRIc3ZhKGhzdmEpO1xuICByZXR1cm4gYGhzdmEoJHtofSwgJHtzfSUsICR7dn0lLCAke2F9KWA7XG59O1xuXG5leHBvcnQgY29uc3QgaHN2YVRvSHNsYVN0cmluZyA9IChoc3ZhOiBIc3ZhQ29sb3IpOiBzdHJpbmcgPT4ge1xuICBjb25zdCB7IGgsIHMsIGwsIGEgfSA9IGhzdmFUb0hzbGEoaHN2YSk7XG4gIHJldHVybiBgaHNsYSgke2h9LCAke3N9JSwgJHtsfSUsICR7YX0pYDtcbn07XG5cbmV4cG9ydCBjb25zdCBoc2xhU3RyaW5nVG9Ic3ZhID0gKGhzbFN0cmluZzogc3RyaW5nKTogSHN2YUNvbG9yID0+IHtcbiAgY29uc3QgbWF0Y2hlciA9XG4gICAgL2hzbGE/XFwoP1xccyooLT9cXGQqXFwuP1xcZCspKGRlZ3xyYWR8Z3JhZHx0dXJuKT9bLFxcc10rKC0/XFxkKlxcLj9cXGQrKSU/WyxcXHNdKygtP1xcZCpcXC4/XFxkKyklPyw/XFxzKlsvXFxzXSooLT9cXGQqXFwuP1xcZCspPyglKT9cXHMqXFwpPy9pO1xuICBjb25zdCBtYXRjaCA9IG1hdGNoZXIuZXhlYyhoc2xTdHJpbmcpO1xuXG4gIGlmICghbWF0Y2gpIHJldHVybiB7IGg6IDAsIHM6IDAsIHY6IDAsIGE6IDEgfTtcblxuICByZXR1cm4gaHNsYVRvSHN2YSh7XG4gICAgaDogcGFyc2VIdWUobWF0Y2hbMV0sIG1hdGNoWzJdKSxcbiAgICBzOiBOdW1iZXIobWF0Y2hbM10pLFxuICAgIGw6IE51bWJlcihtYXRjaFs0XSksXG4gICAgYTogbWF0Y2hbNV0gPT09IHVuZGVmaW5lZCA/IDEgOiBOdW1iZXIobWF0Y2hbNV0pIC8gKG1hdGNoWzZdID8gMTAwIDogMSksXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGhzbFN0cmluZ1RvSHN2YSA9IGhzbGFTdHJpbmdUb0hzdmE7XG5cbmV4cG9ydCBjb25zdCBoc2xhVG9Ic3ZhID0gKHsgaCwgcywgbCwgYSB9OiBIc2xhQ29sb3IpOiBIc3ZhQ29sb3IgPT4ge1xuICBzICo9IChsIDwgNTAgPyBsIDogMTAwIC0gbCkgLyAxMDA7XG5cbiAgcmV0dXJuIHtcbiAgICBoOiBoLFxuICAgIHM6IHMgPiAwID8gKCgyICogcykgLyAobCArIHMpKSAqIDEwMCA6IDAsXG4gICAgdjogbCArIHMsXG4gICAgYSxcbiAgfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSHNsQ29sb3Ige1xuICBoOiBudW1iZXI7XG4gIHM6IG51bWJlcjtcbiAgbDogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBIc2xhQ29sb3IgZXh0ZW5kcyBIc2xDb2xvciB7XG4gIGE6IG51bWJlcjtcbn1cbmV4cG9ydCBjb25zdCBoc3ZhVG9Ic2xhID0gKHsgaCwgcywgdiwgYSB9OiBIc3ZhQ29sb3IpOiBIc2xhQ29sb3IgPT4ge1xuICBjb25zdCBoaCA9ICgoMjAwIC0gcykgKiB2KSAvIDEwMDtcblxuICByZXR1cm4ge1xuICAgIGg6IHJvdW5kKGgpLFxuICAgIHM6IHJvdW5kKFxuICAgICAgaGggPiAwICYmIGhoIDwgMjAwXG4gICAgICAgID8gKChzICogdikgLyAxMDAgLyAoaGggPD0gMTAwID8gaGggOiAyMDAgLSBoaCkpICogMTAwXG4gICAgICAgIDogMCxcbiAgICApLFxuICAgIGw6IHJvdW5kKGhoIC8gMiksXG4gICAgYTogcm91bmQoYSwgMiksXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgaHN2YVN0cmluZ1RvSHN2YSA9IChoc3ZTdHJpbmc6IHN0cmluZyk6IEhzdmFDb2xvciA9PiB7XG4gIGNvbnN0IG1hdGNoZXIgPVxuICAgIC9oc3ZhP1xcKD9cXHMqKC0/XFxkKlxcLj9cXGQrKShkZWd8cmFkfGdyYWR8dHVybik/WyxcXHNdKygtP1xcZCpcXC4/XFxkKyklP1ssXFxzXSsoLT9cXGQqXFwuP1xcZCspJT8sP1xccypbL1xcc10qKC0/XFxkKlxcLj9cXGQrKT8oJSk/XFxzKlxcKT8vaTtcbiAgY29uc3QgbWF0Y2ggPSBtYXRjaGVyLmV4ZWMoaHN2U3RyaW5nKTtcblxuICBpZiAoIW1hdGNoKSByZXR1cm4geyBoOiAwLCBzOiAwLCB2OiAwLCBhOiAxIH07XG5cbiAgcmV0dXJuIHJvdW5kSHN2YSh7XG4gICAgaDogcGFyc2VIdWUobWF0Y2hbMV0sIG1hdGNoWzJdKSxcbiAgICBzOiBOdW1iZXIobWF0Y2hbM10pLFxuICAgIHY6IE51bWJlcihtYXRjaFs0XSksXG4gICAgYTogbWF0Y2hbNV0gPT09IHVuZGVmaW5lZCA/IDEgOiBOdW1iZXIobWF0Y2hbNV0pIC8gKG1hdGNoWzZdID8gMTAwIDogMSksXG4gIH0pO1xufTtcblxuLyoqXG4gKiBWYWxpZCBDU1MgPGFuZ2xlPiB1bml0cy5cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9hbmdsZVxuICovXG5jb25zdCBhbmdsZVVuaXRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge1xuICBncmFkOiAzNjAgLyA0MDAsXG4gIHR1cm46IDM2MCxcbiAgcmFkOiAzNjAgLyAoTWF0aC5QSSAqIDIpLFxufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlSHVlID0gKHZhbHVlOiBzdHJpbmcsIHVuaXQgPSAnZGVnJyk6IG51bWJlciA9PiB7XG4gIHJldHVybiBOdW1iZXIodmFsdWUpICogKGFuZ2xlVW5pdHNbdW5pdF0gfHwgMSk7XG59O1xuXG5leHBvcnQgY29uc3QgaHN2U3RyaW5nVG9Ic3ZhID0gaHN2YVN0cmluZ1RvSHN2YTtcblxuZXhwb3J0IGNvbnN0IHJnYmFTdHJpbmdUb0hzdmEgPSAocmdiYVN0cmluZzogc3RyaW5nKTogSHN2YUNvbG9yID0+IHtcbiAgY29uc3QgbWF0Y2hlciA9XG4gICAgL3JnYmE/XFwoP1xccyooLT9cXGQqXFwuP1xcZCspKCUpP1ssXFxzXSsoLT9cXGQqXFwuP1xcZCspKCUpP1ssXFxzXSsoLT9cXGQqXFwuP1xcZCspKCUpPyw/XFxzKlsvXFxzXSooLT9cXGQqXFwuP1xcZCspPyglKT9cXHMqXFwpPy9pO1xuICBjb25zdCBtYXRjaCA9IG1hdGNoZXIuZXhlYyhyZ2JhU3RyaW5nKTtcblxuICBpZiAoIW1hdGNoKSByZXR1cm4geyBoOiAwLCBzOiAwLCB2OiAwLCBhOiAxIH07XG5cbiAgcmV0dXJuIHJnYmFUb0hzdmEoe1xuICAgIHI6IE51bWJlcihtYXRjaFsxXSkgLyAobWF0Y2hbMl0gPyAxMDAgLyAyNTUgOiAxKSxcbiAgICBnOiBOdW1iZXIobWF0Y2hbM10pIC8gKG1hdGNoWzRdID8gMTAwIC8gMjU1IDogMSksXG4gICAgYjogTnVtYmVyKG1hdGNoWzVdKSAvIChtYXRjaFs2XSA/IDEwMCAvIDI1NSA6IDEpLFxuICAgIGE6IG1hdGNoWzddID09PSB1bmRlZmluZWQgPyAxIDogTnVtYmVyKG1hdGNoWzddKSAvIChtYXRjaFs4XSA/IDEwMCA6IDEpLFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZ2JTdHJpbmdUb0hzdmEgPSByZ2JhU3RyaW5nVG9Ic3ZhO1xuXG5jb25zdCBmb3JtYXQgPSAobnVtYmVyOiBudW1iZXIpID0+IHtcbiAgY29uc3QgaGV4ID0gbnVtYmVyLnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuIGhleC5sZW5ndGggPCAyID8gJzAnICsgaGV4IDogaGV4O1xufTtcblxuZXhwb3J0IGNvbnN0IHJnYmFUb0hleCA9ICh7IHIsIGcsIGIgfTogUmdiYUNvbG9yKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuICcjJyArIGZvcm1hdChyKSArIGZvcm1hdChnKSArIGZvcm1hdChiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBoZXhUb0hzdmEgPSAoaGV4OiBzdHJpbmcpOiBIc3ZhQ29sb3IgPT4gcmdiYVRvSHN2YShoZXhUb1JnYmEoaGV4KSk7XG5leHBvcnQgY29uc3QgaGV4VG9SZ2JhID0gKGhleDogc3RyaW5nKTogUmdiYUNvbG9yID0+IHtcbiAgaWYgKGhleFswXSA9PT0gJyMnKSBoZXggPSBoZXguc3Vic3RyKDEpO1xuXG4gIGlmIChoZXgubGVuZ3RoIDwgNikge1xuICAgIHJldHVybiB7XG4gICAgICByOiBwYXJzZUludChoZXhbMF0gKyBoZXhbMF0sIDE2KSxcbiAgICAgIGc6IHBhcnNlSW50KGhleFsxXSArIGhleFsxXSwgMTYpLFxuICAgICAgYjogcGFyc2VJbnQoaGV4WzJdICsgaGV4WzJdLCAxNiksXG4gICAgICBhOiAxLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHI6IHBhcnNlSW50KGhleC5zdWJzdHIoMCwgMiksIDE2KSxcbiAgICBnOiBwYXJzZUludChoZXguc3Vic3RyKDIsIDIpLCAxNiksXG4gICAgYjogcGFyc2VJbnQoaGV4LnN1YnN0cig0LCAyKSwgMTYpLFxuICAgIGE6IDEsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgcm91bmQgPSAoXG4gIG51bWJlcjogbnVtYmVyLFxuICBkaWdpdHMgPSAwLFxuICBiYXNlID0gTWF0aC5wb3coMTAsIGRpZ2l0cyksXG4pOiBudW1iZXIgPT4ge1xuICByZXR1cm4gTWF0aC5yb3VuZChiYXNlICogbnVtYmVyKSAvIGJhc2U7XG59O1xuXG5leHBvcnQgY29uc3Qgcm91bmRIc3ZhID0gKGhzdmE6IEhzdmFDb2xvcik6IEhzdmFDb2xvciA9PiAoe1xuICBoOiByb3VuZChoc3ZhLmgpLFxuICBzOiByb3VuZChoc3ZhLnMpLFxuICB2OiByb3VuZChoc3ZhLnYpLFxuICBhOiByb3VuZChoc3ZhLmEsIDIpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBoc3ZhVG9SZ2JhID0gKHsgaCwgcywgdiwgYSB9OiBIc3ZhQ29sb3IpOiBSZ2JhQ29sb3IgPT4ge1xuICBoID0gKGggLyAzNjApICogNjtcbiAgcyA9IHMgLyAxMDA7XG4gIHYgPSB2IC8gMTAwO1xuXG4gIGNvbnN0IGhoID0gTWF0aC5mbG9vcihoKSxcbiAgICBiID0gdiAqICgxIC0gcyksXG4gICAgYyA9IHYgKiAoMSAtIChoIC0gaGgpICogcyksXG4gICAgZCA9IHYgKiAoMSAtICgxIC0gaCArIGhoKSAqIHMpLFxuICAgIG1vZHVsZSA9IGhoICUgNjtcblxuICByZXR1cm4ge1xuICAgIHI6IHJvdW5kKFt2LCBjLCBiLCBiLCBkLCB2XVttb2R1bGVdICogMjU1KSxcbiAgICBnOiByb3VuZChbZCwgdiwgdiwgYywgYiwgYl1bbW9kdWxlXSAqIDI1NSksXG4gICAgYjogcm91bmQoW2IsIGIsIGQsIHYsIHYsIGNdW21vZHVsZV0gKiAyNTUpLFxuICAgIGE6IHJvdW5kKGEsIDIpLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGhzdmFUb1JnYlN0cmluZyA9IChoc3ZhOiBIc3ZhQ29sb3IpOiBzdHJpbmcgPT4ge1xuICBjb25zdCB7IHIsIGcsIGIgfSA9IGhzdmFUb1JnYmEoaHN2YSk7XG4gIHJldHVybiBgcmdiKCR7cn0sICR7Z30sICR7Yn0pYDtcbn07XG5cbmV4cG9ydCBjb25zdCBoc3ZhVG9SZ2JhU3RyaW5nID0gKGhzdmE6IEhzdmFDb2xvcik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHsgciwgZywgYiwgYSB9ID0gaHN2YVRvUmdiYShoc3ZhKTtcbiAgcmV0dXJuIGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYDtcbn07XG5cbmV4cG9ydCBjb25zdCByZ2JhVG9SZ2IgPSAoeyByLCBnLCBiIH06IFJnYmFDb2xvcik6IFJnYkNvbG9yID0+ICh7IHIsIGcsIGIgfSk7XG5leHBvcnQgY29uc3QgaHNsYVRvSHNsID0gKHsgaCwgcywgbCB9OiBIc2xhQ29sb3IpOiBIc2xDb2xvciA9PiAoeyBoLCBzLCBsIH0pO1xuZXhwb3J0IGNvbnN0IGhzdmFUb0hleCA9IChoc3ZhOiBIc3ZhQ29sb3IpOiBzdHJpbmcgPT5cbiAgcmdiYVRvSGV4KGhzdmFUb1JnYmEoaHN2YSkpO1xuZXhwb3J0IGNvbnN0IGhzdmFUb0hzdiA9IChoc3ZhOiBIc3ZhQ29sb3IpOiBIc3ZDb2xvciA9PiB7XG4gIGNvbnN0IHsgaCwgcywgdiB9ID0gcm91bmRIc3ZhKGhzdmEpO1xuICByZXR1cm4geyBoLCBzLCB2IH07XG59O1xuIl19